{% extends "base.html" %}
{% block title %} Profile {% endblock %}

{% block body_class %}flex items-center justify-center min-h-screen bg-gray-100{% endblock %}
{% block content %}
<div class="bg-white p-6 rounded-lg shadow-md text-center">
    <h2 class="text-2xl font-bold">Your Profile</h2>

    <!-- Flash messages -->
    <!-- {% with messages = get_flashed_messages(with_categories=True) %}
        {% if messages %}
            {% for category, message in messages %}
                <div class="mt-4 p-2 text-white rounded bg-{{ 'green-500' if category == 'success' else 'red-500' }}">
                    {{ message }}
                </div>
            {% endfor %}
        {% endif %}
    {% endwith %} -->

    <!-- Change Username Form -->
    <form action="{{ url_for('auth.change_username') }}" method="POST" class="mt-4">
        <label class="block text-gray-700">Username:</label>
        <input type="text" name="new_username" value="{{ current_user.username }}" 
               class="border px-4 py-2 rounded w-full text-center">
        <button type="submit" class="mt-2 bg-blue-500 text-white px-4 py-2 rounded">Update Username</button>
    </form>

    <!-- Logout and Delete Account Buttons -->
    <div class="mt-4">
        <a href="{{ url_for('auth.logout') }}" class="text-blue-500">Logout</a> |
        <a href="{{ url_for('auth.delete_account') }}" class="text-red-500">Delete Account</a>
    </div>
</div>
{% endblock %}